<div class="container d-flex justify-content-center">
  <button class="btn btn-primary mt-2" type="button" data-bs-toggle="offcanvas" data-bs-target="#offcanvasWithBothOptions" aria-controls="offcanvasWithBothOptions">Realizar Login</button>

</div>

<div class="offcanvas offcanvas-start" data-bs-scroll="true" tabindex="-1" id="offcanvasWithBothOptions" aria-labelledby="offcanvasWithBothOptionsLabel">
  
  <div *ngIf="tokenIsValid(); else logado" >
    <div class="offcanvas-header">
      <h5 class="offcanvas-title" id="offcanvasWithBothOptionsLabel">Login</h5>
      <button type="button" class="btn-close" data-bs-dismiss="offcanvas" aria-label="Close"></button>
    </div>
    <div class="offcanvas-body">
      <form [formGroup]="loginUsuarioForm">
        <div class="mb-3">
          <label for="exampleInputEmail1" class="form-label">Email address</label>
          <input formControlName="usuario"type="email" class="form-control" id="exampleInputEmail1" aria-describedby="emailHelp">
          <p class="text-danger mx-2" *ngIf="isFormControlInvalid('usuario')">E-mail obrigatório</p>
        </div>
        <div class="mb-3">
          <label for="exampleInputPassword1" class="form-label">Password</label>
          <input formControlName="senha" type="password" class="form-control" id="exampleInputPassword1">
          <p class="text-danger mx-2" *ngIf="isFormControlInvalid('senha')">senha mínima de 8 caracteres</p>
        </div>
        <div class="mb-3 form-check">
          <input type="checkbox" class="form-check-input" id="exampleCheck1">
          <label class="form-check-label" for="exampleCheck1">lembre-me </label>
        </div>
        <button type="submit" class="btn btn-primary" (click)="submitForm()">Submit</button>
      </form>
    </div>
  </div>

  <ng-template #logado>

    <div class="container">
      <div class="card mt-5 mx-auto bg-light text-success" style="width: 300px; height: 150px;">
        <h5 class="text-center my-auto">Voce está logado </h5>
      </div> 

      <div class="d-flex justify-content-center">
        <button class="btn btn-dark mt-5 " type="button" (click)="logout()">Realizar logout</button>
      </div>
      
    </div>

  </ng-template>
  
</div>
